[{"C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\index.js":"1","C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\reportWebVitals.js":"2","C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\App.js":"3","C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\useFetchJobs.js":"4","C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\Job.js":"5","C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\JobsPagination.js":"6","C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\SearchForm.js":"7"},{"size":500,"mtime":499162500000,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":499162500000,"results":"10","hashOfConfig":"9"},{"size":1193,"mtime":1607154314409,"results":"11","hashOfConfig":"9"},{"size":2525,"mtime":1607151915946,"results":"12","hashOfConfig":"9"},{"size":1879,"mtime":1607149314171,"results":"13","hashOfConfig":"9"},{"size":917,"mtime":1607151735638,"results":"14","hashOfConfig":"9"},{"size":1003,"mtime":1607154910252,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"gk6j0s",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\index.js",[],["32","33"],"C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\reportWebVitals.js",[],"C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\App.js",[],"C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\useFetchJobs.js",["34"],"import React, { useReducer, useEffect } from 'react';\r\nimport Axios from 'axios';\r\n\r\n\r\n\r\nconst ACTIONS = {\r\n    MAKE_REQUEST: \"make-request\",\r\n    GET_DATA: \"get-data\",\r\n    ERROR: \"error\",\r\n    UPDATE_HAS_NEXT_PAGE: \"update-has-next-page\"\r\n\r\n}\r\n\r\nconst BASE_URL = \"https://cors-anywhere.herokuapp.com/https://jobs.github.com/positions.json\"\r\n\r\n\r\nconst reducer = (state, action) => {\r\n\r\n    switch (action.type) {\r\n        case ACTIONS.MAKE_REQUEST:\r\n            return{ loading: true, jobs: []};\r\n\r\n        case ACTIONS.GET_DATA:\r\n            return{...state, loading: false, jobs: action.payload.jobs };\r\n        \r\n        case ACTIONS.ERROR:\r\n            return{ ...state, loading: false , error: action.payload.error, jobs: []};    \r\n        \r\n        case ACTIONS.UPDATE_HAS_NEXT_PAGE:\r\n            return{...state, hasNextPage:action.payload.hasNextPage}\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n\r\n};\r\n\r\nconst useFetchJobs = (params, page) => {\r\n    const [state, dispatch] = useReducer(reducer,{ jobs: [] , loading: true })\r\n\r\n\r\n    useEffect(() => {\r\n        const cancelToken1 = Axios.CancelToken.source()\r\n        const cancelToken2 = Axios.CancelToken.source()\r\n        dispatch({\r\n            type: ACTIONS.MAKE_REQUEST\r\n        })\r\n        Axios.get(BASE_URL, {\r\n            cancelToken: cancelToken1.token,\r\n            params: { markdown:true, page: page, ...params }\r\n        })\r\n        .then(res => {\r\n            dispatch({\r\n                type: ACTIONS.GET_DATA,\r\n                payload: {jobs: res.data }\r\n            })\r\n        })\r\n        .catch( e => {\r\n            if(Axios.isCancel(e)) return\r\n            dispatch({\r\n                type: ACTIONS.ERROR,\r\n                payload: { error: e }\r\n            })\r\n        })\r\n       \r\n\r\n\r\n        Axios.get(BASE_URL, {\r\n            cancelToken: cancelToken2.token,\r\n            params: { markdown:true, page: page +1 , ...params }\r\n        })\r\n        .then(res => {\r\n            dispatch({\r\n                type: ACTIONS.UPDATE_HAS_NEXT_PAGE,\r\n                payload: {hasNextPage: res.data.length !== 0 }\r\n            })\r\n        })\r\n        .catch( e => {\r\n            if(Axios.isCancel(e)) return\r\n            dispatch({\r\n                type: ACTIONS.ERROR,\r\n                payload: { error: e }\r\n            })\r\n        })\r\n\r\n\r\n        return() => {\r\n            cancelToken1.cancel()\r\n            cancelToken2.cancel()\r\n        }\r\n\r\n    }, [params, page])\r\n\r\n    return state;\r\n    \r\n\r\n\r\n};\r\n\r\n\r\nexport default useFetchJobs;","C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\Job.js",[],"C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\JobsPagination.js",[],"C:\\Users\\shiva\\OneDrive\\Desktop\\ReactJS\\github-app\\src\\SearchForm.js",[],{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","severity":1,"message":"40","line":1,"column":8,"nodeType":"41","messageId":"42","endLine":1,"endColumn":13},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"no-unused-vars","'React' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]